<Window x:Class="UnixLauncher.Windows.LoginPopupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:UnixLauncher.Windows"
        xmlns:local1="clr-namespace:UnixLauncher.Controls"
        mc:Ignorable="d"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Title="LoginPopupWindow" Height="331" Width="588"
        WindowStartupLocation="CenterScreen">

    <!-- Fade‑in animation on window load -->
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard>
                    <DoubleAnimation Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.5"/>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>

    <Grid>
        <!-- Main content container with drop shadow -->
        <Border Margin="20" Background="#CC000000" CornerRadius="10">
            <Border.Effect>
                <DropShadowEffect Color="#02C8C8C8" BlurRadius="15" ShadowDepth="5" Opacity="0.8"/>
            </Border.Effect>
            <Grid>
                <!-- Close button at top-right -->
                <Button x:Name="CloseButton"
                        Content="✕"
                        Width="30" Height="30"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Top"
                        Margin="5"
                        Background="Transparent"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        Click="CloseButton_Click">
                    <Button.RenderTransform>
                        <ScaleTransform ScaleX="1" ScaleY="1"/>
                    </Button.RenderTransform>
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Foreground" Value="#FF3399FF"/>
                                    <Setter Property="RenderTransform">
                                        <Setter.Value>
                                            <ScaleTransform ScaleX="1.2" ScaleY="1.2"/>
                                        </Setter.Value>
                                    </Setter>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <!-- Main content -->
                <StackPanel Margin="20">
                    <!-- Title text with drop shadow -->
                    <TextBlock Text="Авторизация" 
                                Foreground="#FFE2E2E2"
                                FontSize="36" 
                                HorizontalAlignment="Center" 
                                FontWeight="Bold"
                                Margin="0,0,0,20">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="Black" BlurRadius="4" ShadowDepth="2" Opacity="0.7"/>
                        </TextBlock.Effect>
                    </TextBlock>

                    <!-- Data entry area: no background here -->
                    <StackPanel Margin="0,0,0,20">
                        <local1:LoginEntryControl ExplanatoryText="Никнейм:"
                                      InitialText="User123"
                                      x:Name="loginTextBox"
                                      IsPassword="False"
                                      Text="{Binding UserLogin, Mode=TwoWay}" 
                                      Margin="0,0,0,10"/>
                        <local1:LoginEntryControl ExplanatoryText="Пароль:"
                                      x:Name="passwordTextBox"
                                      IsPassword="True"
                                      Text="{Binding UserPassword, Mode=TwoWay}"/>
                    </StackPanel>

                    <!-- Confirm button with rounded corners and hover effect -->
                    <Button Content="Подтвердить" 
                            Padding="10" 
                            HorizontalAlignment="Center" 
                            Width="200"
                            Height="30"
                            Background="#FF3399FF"
                            Foreground="White"
                            BorderThickness="0"
                            Cursor="Hand"
                            Click="Button_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border x:Name="buttonBorder" 
                                        Background="{TemplateBinding Background}" 
                                        CornerRadius="5">
                                    <ContentPresenter HorizontalAlignment="Center" 
                                                        VerticalAlignment="Center"/>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="buttonBorder" Property="Background" Value="#FF55AAFF"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
